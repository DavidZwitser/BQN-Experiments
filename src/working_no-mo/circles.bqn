âŸ¨câ‡color,winâ‡window,dâ‡draw,mâ‡mouse, textureâŸ©â†râ†â€¢Import "../../raylib.bqn"

# Dist â† âˆš+Â´Â·â‹†âŸœ2-
# Dist â† {âˆš+Â´(ğ•¨-ğ•©)â‹†2}
Dist â† +Â´âŒ¾(Ã—Ëœ)-
frame â† 10
time â† 0

colors â† âŸ¨
 c.moccasin, c.lightred, c.orange
âŸ©

size â† 0â€¿0
scale â† 2
field â† 0
_OnStart â† {ğ•¨ Func _ğ•£ ğ•©:
  	font â† r.font.LoadBQN 100

	wâ€¿h â† size â†© âŒŠ(win.GetSize @) Ã· scale
	field â†© > {âŸ¨âŒŠw|ğ•©, âŒŠğ•©Ã·wâŸ©} wâ€¿hâ¥Šâ†•wÃ—h

	img â† (sizeâˆ¾4) â¥Š255

	{ğ•Štex:
		texâ€¿font Func imgâ€¿1
	} texture._WithImage img
}

Lfo â† {ğ•Š stepâ€¿size: (((â€¢math.Sin ((10Ã·âŒŠ10Ã—time Ã— Ï€Ã·2) Ã— step)) Ã— size) + 1) Ã· 2}

PerFrame â† {texâ€¿fontğ•Šimgâ€¿wheel:
	wâ€¿h â† size
	swâ€¿sh â† âŒŠsize Ã· scale
	time +â†© r.rayffi.GetFrameTime @
	wheel +â†© r.mouse.WheelMoved @

	frame +â†© 1

	Mask_func â† {
		xâ† âŒŠ Ã—âŸœ (wheelÃ—0.005) (Ã·âŸœscale r.mouse.GetPos@) Dist ğ•¨â€¿ğ•©
		yâ† âŒŠ Ã—âŸœ (wheelÃ—0.007) (Ã—âŸœ(wÃ—0.01) Ã·âŸœscale -r.mouse.GetPos@) Dist ğ•¨â€¿ğ•©
		yÃ—x
	}

	color_mask â† Mask_funcË field


	color_mask â†© (â‰ colors) | color_mask
	img â†© > colors âŠËœ color_mask

  	c.whiteâ€¿texâ€¿scaleâ€¿0 d.Texture 1â€¿1
  	r.rayffi.UpdateTexture texâ‹ˆâ¥Šimg
  	c.whiteâ€¿fontâ€¿30  d.Text 20â€¿20â‹ˆâ€¢Reprâˆ˜win.fps.GetâŠ¸âˆ¾" FPS"

	imgâ€¿wheel
} d._withCanvas_ c.black

Game â† PerFrame â€¢_While_(Â¬win.ShouldClose)_OnStart
Game win._openAs "test"
